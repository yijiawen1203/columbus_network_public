<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Degree Centrality Scatter Plot - By Type</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            text-align: center;
            color: #1e3c72;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 16px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 12px 20px;
            border-radius: 10px;
            color: white;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .stat-label {
            font-size: 11px;
            opacity: 0.9;
            margin-bottom: 3px;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: bold;
        }
        
        .chart-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            font-size: 13px;
            max-width: 300px;
            z-index: 1000;
            border: 2px solid #ffd700;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        }
        
        .tooltip-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 15px;
            color: #ffd700;
            border-bottom: 1px solid #ffd700;
            padding-bottom: 5px;
        }
        
        .tooltip-content {
            line-height: 1.6;
        }
        
        .info-panel {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 300px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            z-index: 2000;
            border: 2px solid #ffd700;
        }
        
        .info-panel.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        .info-panel h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 18px;
            border-bottom: 2px solid #ffd700;
            padding-bottom: 8px;
        }
        
        .info-item {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .info-label {
            color: #aaa;
            font-size: 12px;
        }
        
        .info-value {
            color: white;
            font-size: 16px;
            font-weight: bold;
        }
        
        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff4444;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: background 0.2s;
        }
        
        .close-btn:hover {
            background: #cc0000;
        }
        
        .instructions {
            text-align: center;
            color: #666;
            font-size: 13px;
            margin-top: 15px;
            padding: 10px;
            background: #f0f0f0;
            border-radius: 8px;
        }
        
        .instructions strong {
            color: #1e3c72;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #666;
        }
        
        .legend-circle {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #333;
        }
        
        .axis-label {
            fill: #333;
            font-size: 14px;
            font-weight: bold;
        }
        
        .grid line {
            stroke: #ddd;
            stroke-dasharray: 2,2;
        }
        
        .reference-line {
            stroke-dasharray: 5,5;
            stroke-width: 2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Columbus Organizations - Twitter Follower Distribution</h1>
        <p class="subtitle">Interactive Degree Centrality Scatter Plot - Colored by Organization Type</p>
        
        <div class="controls">
            <div class="stat-box">
                <div class="stat-label">Total Organizations</div>
                <div class="stat-value">100</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Mean</div>
                <div class="stat-value">4,109</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Median</div>
                <div class="stat-value">170</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Max Followers</div>
                <div class="stat-value">249,465</div>
            </div>
        </div>
        
        <div class="chart-container">
            <svg id="scatter-plot"></svg>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-circle" style="background: #e74c3c;"></div>
                <span><strong>Female Only (Red)</strong></span>
            </div>
            <div class="legend-item">
                <div class="legend-circle" style="background: #3498db;"></div>
                <span><strong>Minority Only (Blue)</strong></span>
            </div>
            <div class="legend-item">
                <div class="legend-circle" style="background: #f1c40f;"></div>
                <span><strong>Both (Gold)</strong></span>
            </div>
            <div class="legend-item">
                <div class="legend-circle" style="background: #7f8c8d;"></div>
                <span><strong>Neither (Grey)</strong></span>
            </div>
        </div>
        
        <div class="instructions">
            <strong>Instructions:</strong> 
            Scroll to zoom | 
            Drag to pan | 
            Hover for quick info | 
            Click point for detailed info
        </div>
    </div>
    
    <div class="tooltip" id="tooltip"></div>
    <div class="info-panel" id="info-panel">
        <button class="close-btn" onclick="closeInfo()">Ã—</button>
        <h3 id="info-org-name">Organization Name</h3>
        <div class="info-item">
            <div class="info-label">Rank</div>
            <div class="info-value" id="info-rank">#1</div>
        </div>
        <div class="info-item">
            <div class="info-label">Degree (Followers)</div>
            <div class="info-value" id="info-degree">0</div>
        </div>
        <div class="info-item">
            <div class="info-label">Type</div>
            <div class="info-value" id="info-type">Type</div>
        </div>
        <div class="info-item">
            <div class="info-label">Female</div>
            <div class="info-value" id="info-female">0</div>
        </div>
        <div class="info-item">
            <div class="info-label">Minority</div>
            <div class="info-value" id="info-minority">0</div>
        </div>
    </div>

    <script>
        // Data
        const data = [{"rank": 1, "degree": 249465, "organization": "Evans Creative Group", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 2, "degree": 22532, "organization": "City of Columbus", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 3, "degree": 21128, "organization": "Columbus Chamber of Commerce", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 4, "degree": 17525, "organization": "Mayor Andrew Ginther", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 5, "degree": 14147, "organization": "Celebrate Local Enterprises, Inc", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 6, "degree": 13612, "organization": "Columbus CEO", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 7, "degree": 9646, "organization": "Rev1 Ventures", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 8, "degree": 7408, "organization": "Columbus State Small Business Development Center (SBDC)", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 9, "degree": 7264, "organization": "Bunker Labs", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 10, "degree": 5192, "organization": "Portfolio Creative, LLC", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 11, "degree": 3852, "organization": "TicketFire", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 12, "degree": 3605, "organization": "Measurement Resources Company, LLC", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 13, "degree": 3484, "organization": "The Painting Connection Company", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 14, "degree": 3074, "organization": "Fantasy Football Metrics Dot Com LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 15, "degree": 2586, "organization": "Redeeming Injustice", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 16, "degree": 1891, "organization": "ECDI", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 17, "degree": 1882, "organization": "Innovate New Albany", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 18, "degree": 1657, "organization": "WILD OHIO BREWING", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 19, "degree": 1454, "organization": "Columbus Urban League", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 20, "degree": 1423, "organization": "Central Ohio Better Business Bureau (BBB)", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 21, "degree": 1263, "organization": "GROOVE U", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 22, "degree": 1253, "organization": "CI Publishing Group", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 23, "degree": 958, "organization": "Ohio CDC Association", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 24, "degree": 935, "organization": "Urban Entrepreneur Center", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 25, "degree": 894, "organization": "Mukha Custom Cosmetics", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 26, "degree": 859, "organization": "Ohio Minority Supplier Development Council", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 27, "degree": 851, "organization": "The Watkins Printing Company", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 28, "degree": 794, "organization": "Finance Fund", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 29, "degree": 788, "organization": "Electronic Systems Consultants", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 30, "degree": 642, "organization": "Dept. of Development", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 31, "degree": 613, "organization": "BLK hack", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 32, "degree": 518, "organization": "YMT Consultants", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 33, "degree": 449, "organization": "SCORE", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 34, "degree": 437, "organization": "Zora's House", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 35, "degree": 377, "organization": "Neighborhood Design Center", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 36, "degree": 344, "organization": "QStart Labs, LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 37, "degree": 332, "organization": "City of Columbus, Supplier Diversity", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 38, "degree": 282, "organization": "Albeit Weiker LLP", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 39, "degree": 277, "organization": "2Shea Creative", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 40, "degree": 270, "organization": "Tupelo Doughnuts", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 41, "degree": 256, "organization": "ColumbusBlack", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 42, "degree": 253, "organization": "Jo Goenner Talent Agency, LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 43, "degree": 248, "organization": "West Personal Services, LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 44, "degree": 238, "organization": "Central Community House", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 45, "degree": 233, "organization": "Your Professional Helper, Ltd", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 46, "degree": 232, "organization": "M6 Incorporated DBA PuroClean Certified Restoration Specialists", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 47, "degree": 226, "organization": "Buckeye Strength LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 48, "degree": 224, "organization": "Stealth Entry LLC", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 49, "degree": 206, "organization": "J-Pops, LLC", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 50, "degree": 174, "organization": "Renter Mentor", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 51, "degree": 167, "organization": "RST Global Vision Management and Consulting Firm., LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 52, "degree": 160, "organization": "Mat Happy Yoga, LLC", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 53, "degree": 155, "organization": "Macabee Metals", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 54, "degree": 142, "organization": "Donya's Florals", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 55, "degree": 129, "organization": "ZPA LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 56, "degree": 127, "organization": "UPFAD Unlimited Possibilities For All Disabilities", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 57, "degree": 119, "organization": "4 POINTS ASSET MANAGEMENT LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 58, "degree": 119, "organization": "Feed me! Sandwich Kings!", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 59, "degree": 102, "organization": "AVANT-GARDE IMPRESSIONS", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 60, "degree": 100, "organization": "Sprout Early Education Center", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 61, "degree": 87, "organization": "Rkg property services llc", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 62, "degree": 78, "organization": "RHL STEAKS & BURGERS", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 63, "degree": 76, "organization": "BodyByMe, Inc", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 64, "degree": 71, "organization": "Hispanic Chamber of Commerce", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 65, "degree": 69, "organization": "Central Ohio African American Chamber of Commerce", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 66, "degree": 67, "organization": "BAYO & ASSOCIATES LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 67, "degree": 66, "organization": "Planetary Media LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 68, "degree": 61, "organization": "Persevere Studio", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 69, "degree": 60, "organization": "Unhinged Design Co", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 70, "degree": 54, "organization": "JaDour, LLC", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 71, "degree": 53, "organization": "Omega Limousines LLC", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 72, "degree": 52, "organization": "BBCO DESIGN LLC", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 73, "degree": 49, "organization": "Pyramid CDC", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 74, "degree": 44, "organization": "Axe Capital One Inc", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 75, "degree": 37, "organization": "Sylvia A. Garrett Insurance Agency LLC", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 76, "degree": 36, "organization": "Aspen Careers,   LLC", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 77, "degree": 35, "organization": "JPs MAIN MARKET LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 78, "degree": 32, "organization": "A Plus Staffing Solutions LLC", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 79, "degree": 31, "organization": "Urban accelerator X ", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 80, "degree": 30, "organization": "3C Sports, LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 81, "degree": 30, "organization": "evolverie", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 82, "degree": 29, "organization": "Little Miracles EDC", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 83, "degree": 26, "organization": "Deeva Star Travel, LLC", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 84, "degree": 24, "organization": "Sea Change", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 85, "degree": 22, "organization": "Maube Mor's The Fitting Image", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 86, "degree": 21, "organization": "Win Win Mediation Services", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 87, "degree": 21, "organization": "A AND H INVESTMENTS LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 88, "degree": 19, "organization": "SafeWhite", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 89, "degree": 18, "organization": "LISC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 90, "degree": 15, "organization": "Interior Space", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 91, "degree": 14, "organization": "Mehta Holdings LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 92, "degree": 10, "organization": "Sullivant Avenue Community School", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 93, "degree": 8, "organization": "PRINA Health Care LLC", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 94, "degree": 6, "organization": "ANGEL ANIMAL HOSPITAL, INC.", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 95, "degree": 5, "organization": "TGS Systems LLC", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 96, "degree": 5, "organization": "SquidCat, Ink LTD", "type": "Both (Gold)", "female": 1, "minority": 1}, {"rank": 97, "degree": 5, "organization": "SenseICs Ltd.", "type": "Minority Only (Blue)", "female": 0, "minority": 1}, {"rank": 98, "degree": 2, "organization": "Buckeye Training Solutions", "type": "Neither (Grey)", "female": 0, "minority": 0}, {"rank": 99, "degree": 2, "organization": "Patterson Pools, LLC", "type": "Female Only (Red)", "female": 1, "minority": 0}, {"rank": 100, "degree": 1, "organization": "CCDC", "type": "Neither (Grey)", "female": 0, "minority": 0}];
        const meanValue = 4109.44;
        const medianValue = 170.5;
        
        // Chart dimensions
        const margin = {top: 40, right: 60, bottom: 80, left: 80};
        const width = 1400 - margin.left - margin.right;
        const height = 700 - margin.top - margin.bottom;
        
        // Create SVG
        const svg = d3.select("#scatter-plot")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom);
        
        const g = svg.append("g")
            .attr("transform", `translate(${margin.left},${margin.top})`);
        
        // Scales
        const xScale = d3.scaleLinear()
            .domain([0, 105])
            .range([0, width]);
        
        const yScale = d3.scaleLinear()
            .domain([0, d3.max(data, d => d.degree) * 1.1])
            .range([height, 0]);
        
        // Color scale by TYPE
        const colorMap = {
            'Female Only (Red)': '#e74c3c',
            'Minority Only (Blue)': '#3498db',
            'Both (Gold)': '#f1c40f',
            'Neither (Grey)': '#7f8c8d'
        };
        
        const strokeColorMap = {
            'Female Only (Red)': '#c0392b',
            'Minority Only (Blue)': '#2980b9',
            'Both (Gold)': '#d4ac0d',
            'Neither (Grey)': '#566573'
        };
        
        const colorScale = d => colorMap[d.type] || '#95a5a6';
        const strokeScale = d => strokeColorMap[d.type] || '#566573';
        
        // Add grid
        g.append("g")
            .attr("class", "grid")
            .attr("transform", `translate(0,${height})`)
            .call(d3.axisBottom(xScale).tickSize(-height).tickFormat(""));
        
        g.append("g")
            .attr("class", "grid")
            .call(d3.axisLeft(yScale).tickSize(-width).tickFormat(""));
        
        // Add reference line - Mean
        g.append("line")
            .attr("class", "reference-line")
            .attr("x1", 0)
            .attr("x2", width)
            .attr("y1", yScale(meanValue))
            .attr("y2", yScale(meanValue))
            .attr("stroke", "#e74c3c")
            .attr("opacity", 0.6);
        
        g.append("text")
            .attr("x", width - 10)
            .attr("y", yScale(meanValue) - 10)
            .attr("text-anchor", "end")
            .attr("fill", "#e74c3c")
            .attr("font-weight", "bold")
            .attr("font-size", "12px")
            .text(`Mean: ${meanValue.toLocaleString()}`);
        
        // Add reference line - Median
        g.append("line")
            .attr("class", "reference-line")
            .attr("x1", 0)
            .attr("x2", width)
            .attr("y1", yScale(medianValue))
            .attr("y2", yScale(medianValue))
            .attr("stroke", "#27ae60")
            .attr("opacity", 0.6);
        
        g.append("text")
            .attr("x", width - 10)
            .attr("y", yScale(medianValue) - 10)
            .attr("text-anchor", "end")
            .attr("fill", "#27ae60")
            .attr("font-weight", "bold")
            .attr("font-size", "12px")
            .text(`Median: ${medianValue.toLocaleString()}`);
        
        // X axis
        g.append("g")
            .attr("transform", `translate(0,${height})`)
            .call(d3.axisBottom(xScale).ticks(20))
            .selectAll("text")
            .attr("font-size", "11px");
        
        // Y axis
        g.append("g")
            .call(d3.axisLeft(yScale).ticks(10).tickFormat(d => d.toLocaleString()))
            .selectAll("text")
            .attr("font-size", "11px");
        
        // X axis label
        g.append("text")
            .attr("class", "axis-label")
            .attr("text-anchor", "middle")
            .attr("x", width / 2)
            .attr("y", height + 50)
            .text("Organization Rank (1 = Most Followers)");
        
        // Y axis label
        g.append("text")
            .attr("class", "axis-label")
            .attr("text-anchor", "middle")
            .attr("transform", "rotate(-90)")
            .attr("y", -60)
            .attr("x", -height / 2)
            .text("Degree Centrality (Number of Twitter Followers)");
        
        // Title
        g.append("text")
            .attr("x", width / 2)
            .attr("y", -15)
            .attr("text-anchor", "middle")
            .attr("font-size", "18px")
            .attr("font-weight", "bold")
            .attr("fill", "#1e3c72")
            .text("100 Organizations Twitter Followers Distribution");
        
        // Tooltip
        const tooltip = d3.select("#tooltip");
        
        // Draw scatter points
        const circles = g.selectAll("circle")
            .data(data)
            .enter()
            .append("circle")
            .attr("cx", d => xScale(d.rank))
            .attr("cy", d => yScale(d.degree))
            .attr("r", 7)
            .attr("fill", colorScale)
            .attr("stroke", strokeScale)
            .attr("stroke-width", 2)
            .attr("opacity", 0.8)
            .style("cursor", "pointer")
            .on("mouseenter", function(event, d) {
                d3.select(this)
                    .transition()
                    .duration(200)
                    .attr("r", 11)
                    .attr("opacity", 1)
                    .attr("stroke-width", 3);
                
                tooltip
                    .style("opacity", 1)
                    .html(`
                        <div class="tooltip-title">${d.organization}</div>
                        <div class="tooltip-content">
                            <strong>Rank:</strong> #${d.rank}<br>
                            <strong>Followers:</strong> ${d.degree.toLocaleString()}<br>
                            <strong>Type:</strong> ${d.type}
                        </div>
                    `)
                    .style("left", (event.pageX + 15) + "px")
                    .style("top", (event.pageY - 15) + "px");
            })
            .on("mousemove", function(event) {
                tooltip
                    .style("left", (event.pageX + 15) + "px")
                    .style("top", (event.pageY - 15) + "px");
            })
            .on("mouseleave", function(event, d) {
                d3.select(this)
                    .transition()
                    .duration(200)
                    .attr("r", 7)
                    .attr("opacity", 0.8)
                    .attr("stroke-width", 2);
                
                tooltip.style("opacity", 0);
            })
            .on("click", function(event, d) {
                event.stopPropagation();
                showInfo(d);
            });
        
        // Zoom functionality
        const zoom = d3.zoom()
            .scaleExtent([0.5, 10])
            .on("zoom", (event) => {
                g.attr("transform", event.transform);
            });
        
        svg.call(zoom);
        
        // Show detailed info panel
        function showInfo(d) {
            document.getElementById('info-org-name').textContent = d.organization;
            document.getElementById('info-rank').textContent = `#${d.rank}`;
            document.getElementById('info-degree').textContent = d.degree.toLocaleString();
            document.getElementById('info-type').textContent = d.type;
            document.getElementById('info-female').textContent = d.female === 1 ? 'Yes' : 'No';
            document.getElementById('info-minority').textContent = d.minority === 1 ? 'Yes' : 'No';
            document.getElementById('info-panel').classList.add('active');
        }
        
        // Close info panel
        function closeInfo() {
            document.getElementById('info-panel').classList.remove('active');
        }
        
        // Click outside to close info panel
        document.addEventListener('click', function(event) {
            const infoPanel = document.getElementById('info-panel');
            if (!infoPanel.contains(event.target)) {
                closeInfo();
            }
        });
    </script>
</body>
</html>